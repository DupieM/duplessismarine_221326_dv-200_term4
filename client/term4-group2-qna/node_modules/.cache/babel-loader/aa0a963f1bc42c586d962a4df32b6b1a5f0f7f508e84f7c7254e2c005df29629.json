{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mdpma\\\\Documents\\\\Open Window\\\\Term-4-Group-2---Project\\\\client\\\\term4-group2-qna\\\\src\\\\components\\\\util\\\\UseContext\\\\loggedInUserContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport { useInteraction } from '../UI/interactionListener';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst LoggedInUserContext = /*#__PURE__*/createContext({});\nconst TokenContext = /*#__PURE__*/createContext(\"\");\nconst LoggedInContext = /*#__PURE__*/createContext(\"\");\n\n// Current User Logged In\nexport const LoggedInUserProvider = ({\n  children\n}) => {\n  _s();\n  const initialUser = sessionStorage.getItem(\"user\");\n  const [loggedInUser, setLoggedInUser] = useState({});\n  const interaction = useInteraction();\n  useEffect(() => {\n    if (sessionStorage.getItem(\"user\") !== null) {\n      if (initialUser) {\n        try {\n          let user = JSON.parse(initialUser);\n          setLoggedInUser(user);\n        } catch (error) {\n          setLoggedInUser({});\n        }\n      } else {\n        setLoggedInUser({});\n      }\n    }\n  }, [interaction]);\n  return /*#__PURE__*/_jsxDEV(LoggedInUserContext.Provider, {\n    value: {\n      loggedInUser,\n      setLoggedInUser\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 31,\n    columnNumber: 9\n  }, this);\n};\n_s(LoggedInUserProvider, \"9lBPKyS+a/Unvhi9SCGVHlwrwjM=\", false, function () {\n  return [useInteraction];\n});\n_c = LoggedInUserProvider;\nexport const useLoggedInUser = () => {\n  _s2();\n  return useContext(LoggedInUserContext);\n};\n\n// Token\n_s2(useLoggedInUser, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const TokenProvider = ({\n  children\n}) => {\n  _s3();\n  const initialToken = sessionStorage.getItem(\"token\");\n  const [token, setToken] = useState(initialToken);\n  useEffect(() => {\n    if (sessionStorage.getItem(\"token\") !== null) {\n      if (initialToken) {\n        try {\n          setToken(initialToken);\n        } catch (error) {\n          setToken(\"\");\n        }\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(TokenContext.Provider, {\n    value: {\n      token,\n      setToken\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 60,\n    columnNumber: 9\n  }, this);\n};\n_s3(TokenProvider, \"w4PGjzwU+znkNWWv/cmJxDZqQPE=\");\n_c2 = TokenProvider;\nexport const useToken = () => {\n  _s4();\n  return useContext(TokenContext);\n};\n\n// Logged In status\n_s4(useToken, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nexport const LoggedInProvider = ({\n  children\n}) => {\n  _s5();\n  const initialIsLoggedIn = sessionStorage.getItem(\"loggedIn\");\n  const [isLoggedIn, setIsLoggedIn] = useState(initialIsLoggedIn);\n  useEffect(() => {\n    if (sessionStorage.getItem(\"loggedIn\") !== null) {\n      if (initialIsLoggedIn) {\n        try {\n          let status = JSON.parse(initialIsLoggedIn);\n          setIsLoggedIn(status);\n        } catch (error) {\n          setIsLoggedIn(\"\");\n        }\n      } else {\n        setIsLoggedIn(\"\");\n      }\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(LoggedInContext.Provider, {\n    value: {\n      isLoggedIn,\n      setIsLoggedIn\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 92,\n    columnNumber: 9\n  }, this);\n};\n_s5(LoggedInProvider, \"way8RkCN/4X5M5gxbAgW5dZMWMA=\");\n_c3 = LoggedInProvider;\nexport const useLoggedIn = () => {\n  _s6();\n  return useContext(LoggedInContext);\n};\n_s6(useLoggedIn, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"LoggedInUserProvider\");\n$RefreshReg$(_c2, \"TokenProvider\");\n$RefreshReg$(_c3, \"LoggedInProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","useInteraction","jsxDEV","_jsxDEV","LoggedInUserContext","TokenContext","LoggedInContext","LoggedInUserProvider","children","_s","initialUser","sessionStorage","getItem","loggedInUser","setLoggedInUser","interaction","user","JSON","parse","error","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useLoggedInUser","_s2","TokenProvider","_s3","initialToken","token","setToken","_c2","useToken","_s4","LoggedInProvider","_s5","initialIsLoggedIn","isLoggedIn","setIsLoggedIn","status","_c3","useLoggedIn","_s6","$RefreshReg$"],"sources":["C:/Users/Mdpma/Documents/Open Window/Term-4-Group-2---Project/client/term4-group2-qna/src/components/util/UseContext/loggedInUserContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport { useInteraction } from '../UI/interactionListener';\r\n\r\nconst LoggedInUserContext = createContext({});\r\nconst TokenContext = createContext(\"\");\r\nconst LoggedInContext = createContext(\"\");\r\n\r\n\r\n// Current User Logged In\r\nexport const LoggedInUserProvider = ({ children }) => {\r\n    const initialUser = sessionStorage.getItem(\"user\");\r\n    const [loggedInUser, setLoggedInUser] = useState({});\r\n    const interaction = useInteraction();\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"user\") !== null) {\r\n            if (initialUser) {\r\n                try {\r\n                    let user = JSON.parse(initialUser)\r\n                    setLoggedInUser(user)\r\n                } catch (error) {\r\n                    setLoggedInUser({})\r\n                }\r\n            } else {\r\n                setLoggedInUser({})\r\n            }\r\n        }\r\n    }, [interaction]);\r\n\r\n    return (\r\n        <LoggedInUserContext.Provider value={{ loggedInUser, setLoggedInUser }}>\r\n            {children}\r\n        </LoggedInUserContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useLoggedInUser = () => {\r\n    return useContext(LoggedInUserContext);\r\n};\r\n\r\n\r\n// Token\r\nexport const TokenProvider = ({ children }) => {\r\n    const initialToken = sessionStorage.getItem(\"token\");\r\n    const [token, setToken] = useState(initialToken);\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"token\") !== null) {\r\n            if (initialToken) {\r\n                try {\r\n                    setToken(initialToken)\r\n                } catch (error) {\r\n                    setToken(\"\")\r\n                }\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <TokenContext.Provider value={{ token, setToken }}>\r\n            {children}\r\n        </TokenContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useToken = () => {\r\n    return useContext(TokenContext);\r\n};\r\n\r\n\r\n// Logged In status\r\nexport const LoggedInProvider = ({ children }) => {\r\n    const initialIsLoggedIn = sessionStorage.getItem(\"loggedIn\");\r\n    const [isLoggedIn, setIsLoggedIn] = useState(initialIsLoggedIn);\r\n\r\n    useEffect(() => {\r\n        if (sessionStorage.getItem(\"loggedIn\") !== null) {\r\n            if (initialIsLoggedIn) {\r\n                try {\r\n                    let status = JSON.parse(initialIsLoggedIn)\r\n                    setIsLoggedIn(status)\r\n                } catch (error) {\r\n                    setIsLoggedIn(\"\")\r\n                }\r\n            } else {\r\n                setIsLoggedIn(\"\")\r\n            }\r\n        }\r\n    }, []);\r\n\r\n    return (\r\n        <LoggedInContext.Provider value={{ isLoggedIn, setIsLoggedIn }}>\r\n            {children}\r\n        </LoggedInContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useLoggedIn = () => {\r\n    return useContext(LoggedInContext);\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}