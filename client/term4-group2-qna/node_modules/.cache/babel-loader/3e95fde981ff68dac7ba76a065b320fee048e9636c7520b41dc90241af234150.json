{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Mdpma\\\\Documents\\\\Open Window\\\\Term-4-Group-2---Project\\\\client\\\\term4-group2-qna\\\\src\\\\components\\\\util\\\\UseContext\\\\usersContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { createContext, useContext, useState, useEffect } from 'react';\nimport getDataOf from '../DataRequests/fetchData';\nimport requestDataOf from '../DataRequests/fetchData';\nimport { useToken } from './loggedInUserContext';\nimport { useInteraction } from '../UI/interactionListener';\n\n// Use Context Creator\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UsersContext = /*#__PURE__*/createContext([]);\n\n// Users Context\nexport const UsersProvider = ({\n  children\n}) => {\n  _s();\n  const [users, setUsers] = useState([]);\n  const interaction = useInteraction();\n  const {\n    token\n  } = useToken();\n  useEffect(() => {\n    // Initialize users from session storage\n    const storedUsers = sessionStorage.getItem('users');\n    requestDataOf.request(\"get\", \"getUsers\", token, \"\").then(response => {\n      const newUsers = response === null || response === void 0 ? void 0 : response.data;\n      sessionStorage.setItem('users', JSON.stringify(newUsers));\n      setUsers(newUsers);\n    });\n  }, [\n  // interaction,\n  token]);\n  return /*#__PURE__*/_jsxDEV(UsersContext.Provider, {\n    value: {\n      users,\n      setUsers\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 34,\n    columnNumber: 9\n  }, this);\n};\n_s(UsersProvider, \"EU/pAj/WpxMtv7vUJQfFmeoy/gU=\", false, function () {\n  return [useInteraction, useToken];\n});\n_c = UsersProvider;\nexport const useUsers = () => {\n  _s2();\n  return useContext(UsersContext);\n};\n_s2(useUsers, \"gDsCjeeItUuvgOWf1v4qoK9RF6k=\");\nvar _c;\n$RefreshReg$(_c, \"UsersProvider\");","map":{"version":3,"names":["React","createContext","useContext","useState","useEffect","getDataOf","requestDataOf","useToken","useInteraction","jsxDEV","_jsxDEV","UsersContext","UsersProvider","children","_s","users","setUsers","interaction","token","storedUsers","sessionStorage","getItem","request","then","response","newUsers","data","setItem","JSON","stringify","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useUsers","_s2","$RefreshReg$"],"sources":["C:/Users/Mdpma/Documents/Open Window/Term-4-Group-2---Project/client/term4-group2-qna/src/components/util/UseContext/usersContext.js"],"sourcesContent":["import React, { createContext, useContext, useState, useEffect } from 'react';\r\nimport getDataOf from '../DataRequests/fetchData';\r\nimport requestDataOf from '../DataRequests/fetchData';\r\nimport { useToken } from './loggedInUserContext';\r\nimport { useInteraction } from '../UI/interactionListener';\r\n\r\n\r\n// Use Context Creator\r\nconst UsersContext = createContext([]);\r\n\r\n\r\n// Users Context\r\nexport const UsersProvider = ({ children }) => {\r\n    const [users, setUsers] = useState([]);\r\n    const interaction = useInteraction();\r\n    const { token } = useToken();\r\n\r\n    useEffect(() => {\r\n        // Initialize users from session storage\r\n        const storedUsers = sessionStorage.getItem('users');\r\n        requestDataOf\r\n            .request(\"get\", \"getUsers\", token, \"\")\r\n            .then((response) => {\r\n                const newUsers = response?.data;\r\n                sessionStorage.setItem('users', JSON.stringify(newUsers));\r\n                setUsers(newUsers);\r\n            });\r\n    }, [\r\n        // interaction,\r\n        token\r\n    ]);\r\n\r\n    return (\r\n        <UsersContext.Provider value={{ users, setUsers }}>\r\n            {children}\r\n        </UsersContext.Provider>\r\n    );\r\n};\r\n\r\nexport const useUsers = () => {\r\n    return useContext(UsersContext);\r\n};\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,EAAEC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAC7E,OAAOC,SAAS,MAAM,2BAA2B;AACjD,OAAOC,aAAa,MAAM,2BAA2B;AACrD,SAASC,QAAQ,QAAQ,uBAAuB;AAChD,SAASC,cAAc,QAAQ,2BAA2B;;AAG1D;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,MAAMC,YAAY,gBAAGV,aAAa,CAAC,EAAE,CAAC;;AAGtC;AACA,OAAO,MAAMW,aAAa,GAAGA,CAAC;EAAEC;AAAS,CAAC,KAAK;EAAAC,EAAA;EAC3C,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGb,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAMc,WAAW,GAAGT,cAAc,CAAC,CAAC;EACpC,MAAM;IAAEU;EAAM,CAAC,GAAGX,QAAQ,CAAC,CAAC;EAE5BH,SAAS,CAAC,MAAM;IACZ;IACA,MAAMe,WAAW,GAAGC,cAAc,CAACC,OAAO,CAAC,OAAO,CAAC;IACnDf,aAAa,CACRgB,OAAO,CAAC,KAAK,EAAE,UAAU,EAAEJ,KAAK,EAAE,EAAE,CAAC,CACrCK,IAAI,CAAEC,QAAQ,IAAK;MAChB,MAAMC,QAAQ,GAAGD,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEE,IAAI;MAC/BN,cAAc,CAACO,OAAO,CAAC,OAAO,EAAEC,IAAI,CAACC,SAAS,CAACJ,QAAQ,CAAC,CAAC;MACzDT,QAAQ,CAACS,QAAQ,CAAC;IACtB,CAAC,CAAC;EACV,CAAC,EAAE;EACC;EACAP,KAAK,CACR,CAAC;EAEF,oBACIR,OAAA,CAACC,YAAY,CAACmB,QAAQ;IAACC,KAAK,EAAE;MAAEhB,KAAK;MAAEC;IAAS,CAAE;IAAAH,QAAA,EAC7CA;EAAQ;IAAAmB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACU,CAAC;AAEhC,CAAC;AAACrB,EAAA,CAzBWF,aAAa;EAAA,QAEFJ,cAAc,EAChBD,QAAQ;AAAA;AAAA6B,EAAA,GAHjBxB,aAAa;AA2B1B,OAAO,MAAMyB,QAAQ,GAAGA,CAAA,KAAM;EAAAC,GAAA;EAC1B,OAAOpC,UAAU,CAACS,YAAY,CAAC;AACnC,CAAC;AAAC2B,GAAA,CAFWD,QAAQ;AAAA,IAAAD,EAAA;AAAAG,YAAA,CAAAH,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}