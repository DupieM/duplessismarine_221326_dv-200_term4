{"version":3,"file":"index.common.js","sources":["../../src/constants.ts","../../src/utils.ts","../../src/index.tsx"],"sourcesContent":["import { JSX } from 'solid-js/jsx-runtime';\nimport { isServer } from 'solid-js/web';\n\nexport const KEYS = {\n  BACKSPACE: 'Backspace',\n  ENTER: 'Enter',\n  ESCAPE: 'Escape',\n  m: 'm',\n  M: 'M',\n  TAB: 'Tab',\n  y: 'y',\n  z: 'z',\n} as const;\n\nexport const ENCLOSING_PAIRS = {\n  '(': ['(', ')'],\n  '[': ['[', ']'],\n  '{': ['{', '}'],\n  '\\'': ['\\'', '\\''],\n  '\"': ['\"', '\"'],\n  '`': ['`', '`'],\n};\n\nconst userAgent = isServer ? '' : window?.navigator?.userAgent ?? '';\n\nexport const isWindows = /win/i.test(userAgent);\nexport const isMacLike = /(mac|iphone|ipad|ipod)/i.test(userAgent);\n\nexport const TEXTAREA_CLASS = 'npm__solid-simple-code-editor__textarea';\n\nexport const SHOW_PLACEHOLDER_STYLES = /* CSS */ `\n/**\n * Reset the text fill color to make placeholder visible when there\n * is no text\n */\n.${TEXTAREA_CLASS}:placeholder-shown {\n  -webkit-text-fill-color: inherit !important;\n}\n`;\n\nexport const STYLES: Readonly<Record<'CONTAINER' | 'TEXTAREA' | 'HIGHLIGHT' | 'EDITOR', JSX.CSSProperties>> = {\n  CONTAINER: {\n    'box-sizing': 'border-box',\n    'text-align': 'left',\n    overflow: 'hidden',\n    padding: 0,\n    position: 'relative',\n  },\n  TEXTAREA: {\n    '-moz-osx-font-smoothing': 'grayscale',\n    '-webkit-font-smoothing': 'antialiased',\n    '-webkit-text-fill-color': 'transparent',\n    color: 'inherit',\n    height: '100%',\n    left: 0,\n    overflow: 'hidden',\n    position: 'absolute',\n    resize: 'none',\n    top: 0,\n    width: '100%',\n  },\n  HIGHLIGHT: {\n    'pointer-events': 'none',\n    position: 'relative',\n  },\n  EDITOR: {\n    'box-sizing': 'inherit',\n    'font-family': 'inherit',\n    'font-size': 'inherit',\n    'font-style': 'inherit',\n    'font-variant-ligatures': 'inherit',\n    'font-weight': 'inherit',\n    'letter-spacing': 'inherit',\n    'line-height': 'inherit',\n    'overflow-wrap': 'break-word',\n    'tab-size': 'inherit',\n    'text-indent': 'inherit',\n    'text-rendering': 'inherit',\n    'text-transform': 'inherit',\n    'white-space': 'pre-wrap',\n    'word-break': 'keep-all',\n    background: 'none',\n    border: 0,\n    display: 'inherit',\n    margin: 0,\n  },\n};\n","import { mergeProps } from 'solid-js';\nimport { ENCLOSING_PAIRS, KEYS, isMacLike, isWindows } from './constants';\n\ntype DefaultAdded<Source extends object, Defaults extends Partial<Source>> = {\n  [key in keyof (Source & Defaults)]: key extends keyof Source ? NonNullable<Source[key]> : never;\n};\n\n/**\n * Merges two objects maintaining reactivity.\n *\n * @param source The source object\n * @param defaults The default values\n * @returns The merged object\n */\nexport const mergeDefaults = <T extends object, D extends Partial<T>>(\n  source: T,\n  defaults: D,\n) => mergeProps(defaults, source) as DefaultAdded<T, D>;\n\n/**\n * Given a set of string arguments, join the values together into a string with\n * spaces. Falsey values will be omitted,\n * e.g. classNames(['A', 'B', false, 'D', false]) --> 'A B D'\n * @param inputs The set of values\n * @returns The values joined as a string, or blank string if no values\n */\nexport const clsx = (...inputs: (string | boolean | undefined)[]) =>\n  inputs.filter(Boolean).join(' ');\n  \n/**\n * Gets the specified lines from a multi-line text.\n * @param text The text from which the styles need to be extracted\n * @param position The end position\n * @returns The specified lines.\n */\nexport const getLines = (text: string, position: number) =>\n  text.substring(0, position).split('\\n');\n  \n/**\n * Checks if a character is one of the enclosing characters.\n * @param char The character to be tested\n * @returns whether the character is an enclosing character\n */\nexport const isEnclosingCharacter = (char: string): char is keyof typeof ENCLOSING_PAIRS => (char in ENCLOSING_PAIRS);\n\n/**\n * Checks if a keyboard action is an undo action\n * @param event The keyboard event\n * @returns whether the key stroke corresponds to an undo action\n */\nexport const isUndo = (event: KeyboardEvent) => (\n  (isMacLike\n    // Undo in Mac will be command + z\n    ? event.metaKey && event.key === KEYS.z\n    // In all other platforms, it will be Ctrl + z\n    : event.ctrlKey && event.key === KEYS.z\n  ) &&\n  !event.shiftKey &&\n  !event.altKey\n);\n\n/**\n * Checks if a keyboard action is a redo action\n * @param event The keyboard event\n * @returns whether the key stroke corresponds to a redo action\n */\nexport const isRedo = (event: KeyboardEvent) => (\n  (isMacLike\n    // Redo in Mac will be command + shift + Z\n    ? event.metaKey && event.shiftKey && event.key === KEYS.z\n    : isWindows\n      // In windows, it will be Ctrl + y\n      ?  event.ctrlKey && event.key === KEYS.y && !event.shiftKey\n      // In all other platforms, it will Ctrl + shift + y\n      : event.ctrlKey && event.shiftKey && event.key === KEYS.z\n  ) &&\n  !event.altKey\n);\n\n/**\n * Checks if a keyboard action is a capture toggle action\n * @param event The keyboard event\n * @returns whether the key stroke corresponds to a capture toggle action\n */\nexport const isCaptureToggle = (event: KeyboardEvent) => (\n  // Capture toggle action in Mac will be Ctrl + Shift + M\n  // And in all other machines, it will be Ctrl + M\n  (event.key === KEYS.m || event.key === KEYS.M) &&\n  event.ctrlKey &&\n  (isMacLike ? event.shiftKey : true)\n);\n\n/***************************\n * UNDO/REDO History setup *\n ***************************/\nconst HISTORY_LIMIT = 100;\nconst HISTORY_TIME_GAP = 3000;\n\nexport type Record = {\n  value: string;\n  selectionStart: number;\n  selectionEnd: number;\n};\n\nexport type History = {\n  stack: (Record & { timestamp: number })[];\n  offset: number;\n};\n\n/**\n * Records a change in the history.\n * @param history The instance of the history being used\n * @param record The change record\n * @param overwrite Whether the record should overwrite the history\n */\nexport const recordChange = (history: History, record: Record, overwrite = false) => {  \n  // Cleanup the current stack if it is not empty\n  if (history.stack.length && history.offset > -1) {\n    const { stack, offset } = history;\n    // when something updates, drop the redo ops\n    history.stack = stack.slice(0, offset + 1);\n    \n    // Limit the history to the HISTORY_LIMIT\n    const count = history.stack.length;\n    if (count > HISTORY_LIMIT) {\n      const extras = count - HISTORY_LIMIT;\n      history.stack = stack.slice(extras, count);\n      history.offset = Math.max(history.offset - extras, 0);\n    }\n  }\n  \n  // current timestamp for the record\n  const timestamp = Date.now();\n  \n  // if set to overwrite, overwrite the last entry\n  if (overwrite) {\n    const last = history.stack[history.offset];\n    \n    // check if a previous entry exists and was in short interval\n    if (last && timestamp - last.timestamp < HISTORY_TIME_GAP) {\n      // Match teh last word in the line\n      const lastWordRegex = /[^a-z0-9]([a-z0-9]+)$/i;\n      \n      // Get the previous line\n      const previous = getLines(last.value, last.selectionStart)\n        .pop()\n        ?.match(lastWordRegex);\n      \n      // Get the current line\n      const current = getLines(record.value, record.selectionStart)\n        .pop()\n        ?.match(lastWordRegex);\n        \n      // If the last and the previous words match, then overwrite the\n      // previous entry so that undo will remove the whole word\n      if (previous?.[1] && current?.[1]?.startsWith(previous[1])) {\n        history.stack[history.offset] = { ...record, timestamp };\n        return;\n      }\n    }\n  }\n  \n  // Add the new record to the stack\n  history.stack.push({ ...record, timestamp });\n  history.offset += 1;\n};\n","import { Component, JSX, JSXElement, createMemo, onMount, splitProps } from 'solid-js';\nimport { ENCLOSING_PAIRS, KEYS, SHOW_PLACEHOLDER_STYLES, STYLES, TEXTAREA_CLASS } from './constants';\nimport { type History, type Record, clsx, mergeDefaults, recordChange, getLines, isEnclosingCharacter, isUndo, isRedo, isCaptureToggle } from './utils';\n\ntype Padding = JSX.CSSProperties['padding'] |\n  Pick<JSX.CSSProperties,\n    | 'padding-block'\n    | 'padding-block-end'\n    | 'padding-block-start'\n    | 'padding-bottom'\n    | 'padding-inline'\n    | 'padding-inline-end'\n    | 'padding-inline-start'\n    | 'padding-left'\n    | 'padding-right'\n    | 'padding-top'\n  >;\n\ntype PropsFromTextArea = \n  | 'autofocus'\n  | 'disabled'\n  | 'form'\n  | 'maxLength'\n  | 'minLength'\n  | 'name'\n  | 'onBlur'\n  | 'onClick'\n  | 'onFocus'\n  | 'onKeyDown'\n  | 'onKeyUp'\n  | 'placeholder'\n  | 'readOnly'\n  | 'required';\ntype PickedTextAreaProperties = Pick<\n  JSX.TextareaHTMLAttributes<HTMLTextAreaElement>,\n  PropsFromTextArea\n>;\ntype PickedDivProperties = Omit<JSX.HTMLAttributes<HTMLDivElement>, 'style' | PropsFromTextArea>;\n\ntype Props = PickedDivProperties & PickedTextAreaProperties & {\n  /**************************\n   * Props of the component *\n   **************************/\n\n  /**\n   * Callback which will receive text to highlight. You'll need to\n   * return an HTML string or a React element with syntax highlighting\n   * using a library such as prismjs.\n   * @param value The value of the component\n   * @returns The highlighted elements\n   */\n  highlight: (value: string) => JSXElement;\n\n  /**\n   * Whether the editor should ignore tab key presses so that keyboard\n   * users can tab past the editor. Users can toggle this behavior using\n   * Ctrl+Shift+M (Mac) / Ctrl+M manually when this is false.\n   * @default false\n   */\n  ignoreTabKey?: boolean;\n\n  /**\n   * Whether to use spaces for indentation.\n   * If you set it to false, you might also want to set tabSize to 1.\n   * @default true\n   */\n  insertSpaces?: boolean;\n\n  /**\n   * Optional padding for code.\n   * @default 0\n   */\n  padding?: Padding;\n\n  /**\n   * Custom styles for the component.\n   */\n  style?: JSX.CSSProperties;\n\n  /**\n   * The number of characters to insert when pressing tab key.\n   * For example, for 4 space indentation, tabSize will be 4\n   * and insertSpaces will be true.\n   * @default 2\n   */\n  tabSize?: number;\n\n  /**\n   * Current value of the editor i.e. the code to display. This\n   * must be a controlled prop.\n   */\n  value: string;\n\n  /**\n   * Callback which is called when the value of the editor changes.\n   * You'll need to update the value prop when this is called.\n   * @param value The updated value\n   */\n  onValueChange: (value: string) => void;\n\n  /*****************************\n   * Props related to textarea *\n   *****************************/\n\n  /**\n   * The id for the underlying textarea element. This can be used for linking\n   * the text area to a label or other accessibility related mapping.\n   */\n  textareaId?: string;\n\n  /**\n   * A class name for the underlying textarea element. Can be useful for more precise\n   * control of its styles.\n   */\n  textareaClass?: string;\n\n  /************************\n   * Props related to pre *\n   ************************/\n\n  /**\n   * A class name for the underlying pre element. Can be useful for more precise\n   * control of its styles.\n   */\n  preClass?: string;\n};\n\nexport const Editor: Component<Props> = (props) => {\n  const fixedProps = mergeDefaults(props, {\n    ignoreTabKey: false,\n    insertSpaces: true,\n    padding: 0,\n    tabSize: 2,\n  });\n  const [local, rest] = splitProps(fixedProps, [\n    // Component props\n    'highlight',\n    'ignoreTabKey',\n    'insertSpaces',\n    'padding',\n    'style',\n    'tabSize',\n    'value',\n    'onValueChange',\n\n    // Custom textarea props\n    'textareaId',\n    'textareaClass',\n\n    // Custom pre props\n    'preClass',\n\n    // Textarea native props\n    'autofocus',\n    'disabled',\n    'form',\n    'maxLength',\n    'minLength',\n    'name',\n    'onBlur',\n    'onClick',\n    'onFocus',\n    'onKeyDown',\n    'onKeyUp',\n    'placeholder',\n    'readOnly',\n    'required',\n  ]);\n\n  /**********************\n   * Instance variables *\n   **********************/\n  let textareaElement: HTMLTextAreaElement | undefined;\n  const history: History = {\n    stack: [],\n    offset: -1\n  };\n  let shouldCaptureTab = true;\n\n  /***********************\n   * Computed properties *\n   ***********************/\n  const contentStyle = createMemo<JSX.CSSProperties>(() => (\n    typeof local.padding === 'object' ?\n      local.padding :\n      { padding: local.padding }\n  ));\n  const highlighted = createMemo(() => local.highlight(local.value));\n\n  /******************\n   * Helper methods *\n   ******************/\n  const updateInput = (record: Record) => {\n    if (!textareaElement) return;\n    \n    // update value and selection state\n    textareaElement.value = record.value;\n    textareaElement.selectionStart = record.selectionStart;\n    textareaElement.selectionEnd = record.selectionEnd;\n    \n    local.onValueChange(record.value);\n  };\n  \n  const applyEdits = (record: Record) => {\n    const last = history.stack[history.offset];\n    if (last && textareaElement) {\n      history.stack[history.offset] = {\n        ...last,\n        selectionEnd: textareaElement.selectionEnd,\n        selectionStart: textareaElement.selectionStart,\n      };\n    }\n    \n    // save the changes\n    recordChange(history, record);\n    updateInput(record);\n  };\n  \n  const undoEdit = () => {\n    const prevRecord = history.stack[history.offset - 1];\n    if (prevRecord) {\n      updateInput(prevRecord);\n      history.offset = Math.max(history.offset - 1, 0);\n    }\n  };\n  \n  const redoEdit = () => {\n    const nextRecord = history.stack[history.offset + 1];\n    if (nextRecord) {\n      updateInput(nextRecord);\n      history.offset = Math.min(history.offset + 1, history.stack.length - 1);\n    }\n  };\n\n  /******************\n   * Event handlers *\n   ******************/\n  const handleChange: JSX.ChangeEventHandler<HTMLTextAreaElement, Event> = (event) => {\n    const { selectionEnd, selectionStart, value } = event.target;\n    recordChange(\n      history,\n      {\n        selectionEnd,\n        selectionStart,\n        value,\n      },\n      true,\n    );\n    local.onValueChange(value);\n  };\n\n  const handleKeyDown: JSX.EventHandler<HTMLTextAreaElement, KeyboardEvent> = (event) => {\n    // call the handler if provider\n    if (typeof local.onKeyDown === 'function') {\n      local.onKeyDown(event);\n      \n      // if default prevented, return\n      if (event.defaultPrevented) {\n        return;\n      }\n    }\n    \n    // Blur on escape\n    if (event.key === KEYS.ESCAPE) {\n      event.currentTarget.blur();\n    }\n    \n    const { selectionEnd, selectionStart, value } = event.currentTarget;\n    const tabCharacter = (local.insertSpaces ? ' ' : '\\t').repeat(local.tabSize!);\n    const hasSelection = selectionStart !== selectionEnd;\n    \n    if (event.key === KEYS.TAB && !local.ignoreTabKey && shouldCaptureTab) {\n      // prevent focus change\n      event.preventDefault();\n      \n      if (event.shiftKey) {\n        // Unindent selected lines on shift + tab\n        const linesBeforeCaret = getLines(value, selectionStart);\n        const linesAfterCaret = getLines(value, selectionEnd);\n        const startLine = linesBeforeCaret.length - 1;\n        const endLine = linesAfterCaret.length - 1;\n        const nextValue = value\n          .split('\\n')\n          .map((line, index) => {\n            // if able to shift left indentation, do that else\n            // return the original line\n            if (\n              index >= startLine &&\n              index <= endLine &&\n              line.startsWith(tabCharacter)\n            ) return line.substring(tabCharacter.length);\n            return line;\n          })\n          .join('\\n');\n        \n        // If the value has changed, apply the edits\n        if (value !== nextValue) {\n          const startLineText = linesBeforeCaret[startLine];\n          applyEdits({\n            value: nextValue,\n            // Move the start cursor if first line in selection was modified\n            // It was modified only if it started with a tab\n            selectionStart: startLineText?.startsWith(tabCharacter)\n              ? selectionStart - tabCharacter.length\n              : selectionStart,\n            // Move the cursor by total number of characters removed\n            selectionEnd: selectionEnd - (value.length - nextValue.length),\n          });\n        }\n      } else if (hasSelection) {\n        // Indent on tab and only if there is a selection\n        const linesBeforeCaret = getLines(value, selectionStart);\n        const linesAfterCaret = getLines(value, selectionEnd);\n        const startLine = linesBeforeCaret.length - 1;\n        const endLine = linesAfterCaret.length - 1;\n        const startLineText = linesBeforeCaret[startLine];\n\n        applyEdits({\n          value: value\n            .split('\\n')\n            .map((line, index) => {\n              if (index >= startLine && index <= endLine) return tabCharacter + line;\n              return line;\n            })\n            .join('\\n'),\n          // Move the start cursor by number of characters added in first line of selection\n          // Don't move it if it there was no text before cursor\n          selectionStart:\n            startLineText && /\\S/.test(startLineText)\n              ? selectionStart + tabCharacter.length\n              : selectionStart,\n          // Move the end cursor by total number of characters added\n          selectionEnd:\n            selectionEnd + tabCharacter.length * (endLine - startLine + 1),\n        });\n      } else {\n        // If there is no selection, simply insert a tab at the caret position\n        const updatedSelection = selectionStart + tabCharacter.length;\n        applyEdits({\n          // Insert tab character at caret\n          value:\n            value.substring(0, selectionStart) +\n            tabCharacter +\n            value.substring(selectionEnd),\n          // Update caret position\n          selectionStart: updatedSelection,\n          selectionEnd: updatedSelection,\n        });\n      }\n    } else if (event.key === KEYS.BACKSPACE) {\n      // On Backspace remove all the tab characters before the caret\n      const textBeforeCarat = value.substring(0, selectionStart);\n      \n      if (textBeforeCarat.endsWith(tabCharacter) && !hasSelection) {\n        // prevent default behavior\n        event.preventDefault();\n        const updatedSelection = selectionStart - tabCharacter.length;\n        \n        applyEdits({\n          // Remove tab character at caret\n          value:\n            value.substring(0, updatedSelection) +\n            value.substring(selectionEnd),\n          // Update caret position\n          selectionStart: updatedSelection,\n          selectionEnd: updatedSelection,\n        });\n      }\n    } else if (event.key === KEYS.ENTER) {\n      // On enter add indentation correctly and only when there\n      // is no selection.\n      if (!hasSelection) {\n        // Get the current line\n        const line = getLines(value, selectionStart).pop();\n        // Check if the current line has any indentation\n        const matches = line?.match(/^\\s+/);\n\n        if (matches?.[0]) {\n          // prevent the default action\n          event.preventDefault();\n\n          // Preserve indentation on inserting a new line\n          const indent = '\\n' + matches[0];\n          const updatedSelection = selectionStart + indent.length;\n\n          applyEdits({\n            // Insert indentation character at caret\n            value:\n              value.substring(0, selectionStart) +\n              indent +\n              value.substring(selectionEnd),\n            // Update caret position\n            selectionStart: updatedSelection,\n            selectionEnd: updatedSelection,\n          });\n        }\n      }\n    } else if (isEnclosingCharacter(event.key)) {\n      // if there is a selection, then enclose them in the characters\n      if (hasSelection) {\n        // prevent default\n        event.preventDefault();\n        \n        const chars = ENCLOSING_PAIRS[event.key];\n        applyEdits({\n          value:\n            value.substring(0, selectionStart) +\n            chars[0] +\n            value.substring(selectionStart, selectionEnd) +\n            chars[1] +\n            value.substring(selectionEnd),\n          // Update caret position\n          selectionStart,\n          selectionEnd: selectionEnd + 2,\n        });\n      }\n    } else if (isUndo(event)) {\n      event.preventDefault();\n      undoEdit();\n    } else if (isRedo(event)) {\n      event.preventDefault();\n      redoEdit();\n    } else if (isCaptureToggle(event)) {\n      event.preventDefault();\n      shouldCaptureTab = !shouldCaptureTab;\n    }\n  };\n\n  /*******************\n   * Lifecycle hooks *\n   *******************/\n\n  onMount(() => {\n    if (!textareaElement) return;\n    recordChange(\n      history,\n      {\n        selectionEnd: textareaElement.selectionEnd,\n        selectionStart: textareaElement.selectionStart,\n        value: textareaElement.value\n      }\n    );\n  });\n\n  return (\n    <div {...rest} style={{ ...STYLES.CONTAINER, ...local.style }}>\n      <textarea\n        ref={textareaElement}\n        autocapitalize=\"off\"\n        autocomplete=\"off\"\n        autofocus={local.autofocus}\n        class={clsx(TEXTAREA_CLASS, local.textareaClass)}\n        data-gramm={false}\n        disabled={local.disabled}\n        form={local.form}\n        id={local.textareaId}\n        maxLength={local.maxLength}\n        minLength={local.minLength}\n        name={local.name}\n        onBlur={local.onBlur}\n        onInput={handleChange}\n        onClick={local.onClick}\n        onFocus={local.onFocus}\n        onKeyDown={handleKeyDown}\n        onKeyUp={local.onKeyUp}\n        placeholder={local.placeholder}\n        readOnly={local.readOnly}\n        required={local.required}\n        spellcheck={false}\n        style={{ ...STYLES.EDITOR, ...STYLES.TEXTAREA, ...contentStyle() }}\n        value={local.value}\n      />\n      <pre\n        aria-hidden=\"true\"\n        class={local.preClass}\n        style={{\n          ...STYLES.EDITOR,\n          ...STYLES.HIGHLIGHT,\n          ...contentStyle()\n        }}\n        {...(\n          typeof highlighted() === 'string' ?\n            { innerHTML: `${highlighted()}<br/>` } :\n            { children: highlighted() }\n        )}\n      />\n      <style innerHTML={SHOW_PLACEHOLDER_STYLES} />\n    </div>\n  );\n};\n\nexport default Editor;\n"],"names":["KEYS","BACKSPACE","ENTER","ESCAPE","m","M","TAB","y","z","ENCLOSING_PAIRS","userAgent","isServer","window","navigator","isWindows","test","isMacLike","TEXTAREA_CLASS","SHOW_PLACEHOLDER_STYLES","STYLES","CONTAINER","overflow","padding","position","TEXTAREA","color","height","left","resize","top","width","HIGHLIGHT","EDITOR","background","border","display","margin","mergeDefaults","source","defaults","mergeProps","clsx","inputs","filter","Boolean","join","getLines","text","substring","split","isEnclosingCharacter","char","isUndo","event","metaKey","key","ctrlKey","shiftKey","altKey","isRedo","isCaptureToggle","HISTORY_LIMIT","HISTORY_TIME_GAP","recordChange","history","record","overwrite","stack","length","offset","slice","count","extras","Math","max","timestamp","Date","now","last","lastWordRegex","previous","value","selectionStart","pop","match","current","startsWith","push","Editor","props","fixedProps","ignoreTabKey","insertSpaces","tabSize","local","rest","splitProps","textareaElement","shouldCaptureTab","contentStyle","createMemo","highlighted","highlight","updateInput","selectionEnd","onValueChange","applyEdits","undoEdit","prevRecord","redoEdit","nextRecord","min","handleChange","target","handleKeyDown","onKeyDown","defaultPrevented","currentTarget","blur","tabCharacter","repeat","hasSelection","preventDefault","linesBeforeCaret","linesAfterCaret","startLine","endLine","nextValue","map","line","index","startLineText","updatedSelection","textBeforeCarat","endsWith","matches","indent","chars","onMount","_el$","_tmpl$","_el$2","firstChild","_el$3","nextSibling","_el$4","_$spread","_$mergeProps","style","_$addEventListener","onKeyUp","$$keydown","onFocus","onClick","$$input","onBlur","_ref$","_$use","_$setAttribute","class","preClass","innerHTML","children","_$effect","_p$","_v$","autofocus","_v$2","textareaClass","_v$3","disabled","_v$4","form","_v$5","textareaId","_v$6","maxLength","_v$7","minLength","_v$8","name","_v$9","placeholder","_v$10","readOnly","_v$11","required","_v$12","_$className","_$style","undefined","_$delegateEvents"],"mappings":"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"}